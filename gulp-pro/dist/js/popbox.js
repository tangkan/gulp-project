"use strict";require(["config"],function(){require(["jquery"],function(r){r.extend({myAlert:function(o){var t=r.modalLayer();$div=r('<div class="popBox"><h4>提示</h4><span class="closeBtn">X</span><p class="popCont">'+o+'</p><p class="btnBar"><button>确定</button></p></div>'),$div.appendTo(r(document.body)).showCenter().drag("h4"),$div.on("click",".closeBtn,.btnBar button",function(){$div.remove(),t.remove()})},myConfirm:function(o,t,n){var e=r.modalLayer();$div=r('<div class="popBox"><h4>确认框</h4><p class="popCont">'+o+'</p><p class="btnBar"><button>确定</button><button>取消</button></p></div>'),$div.appendTo(r(document.body)).showCenter().drag("h4"),$div.on("click",".btnBar button",function(){r(this).index()?($div.remove(),e.remove(),n&&n()):($div.remove(),e.remove(),t&&t())})},myPrompt:function(o,t){var n=r.modalLayer();$div=r('<div class="popBox"><h4>'+o+'</h4><span class="closeBtn">X</span><p class="popCont"><textarea></textarea></p><p class="btnBar"><button>确定</button></p></div>'),$div.appendTo(r(document.body)).showCenter().drag("h4"),$div.on("click",".closeBtn,.btnBar button",function(){if(r(this).hasClass("closeBtn"))$div.remove(),n.remove();else{var o=$div.find("textarea").val();t&&t(o),$div.remove(),n.remove()}})},modalLayer:function(){return $div=r("<div>"),$div.css({position:"fixed",left:0,top:0,background:"rgba(0,0,0,.1)",width:"100%",height:"100%",zIndex:70}).appendTo(r(document.body)),$div}}),r.fn.extend({showCenter:function(n){var e=this;function o(){var o=(r(window).innerWidth()-r(e).outerWidth())/2+(n?n.left:0),t=(r(window).innerHeight()-r(e).outerHeight())/2+(n?n.top:0);r(e).css({left:o,top:t})}return r(window).on("resize",o),o(),r(this)},drag:function(o){var d=r(this);(o?r(this).find(o):r(this)).on("mousedown",function(o){var e=o.pageX-d.offset().left,i=o.pageY-d.offset().top;r(document).on("mousemove",function(o){var t=o.pageX-e,n=o.pageY-i;t<0&&(t=0),n<0&&(n=0),t>r(window).innerWidth()-d.outerWidth()&&(t=r(window).innerWidth()-d.outerWidth()),n>r(window).innerHeight()-d.outerHeight()&&(n=r(window).innerHeight()-d.outerHeight()),d.css({left:t,top:n})}),r(document).on("mouseup",function(){r(this).off("mousemove")})})}})})});